{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jpedr/Documents/Programa%C3%A7%C3%A3o/Projeto_micronegocio/Projeto_micronegocio/utils/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\r\nimport { cookies } from 'next/headers'\r\n\r\nexport async function createClient() {\r\n  const cookieStore = await cookies()\r\n\r\n  return createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n    {\r\n      cookies: {\r\n        getAll() {\r\n          return cookieStore.getAll()\r\n        },\r\n        setAll(cookiesToSet) {\r\n          try {\r\n            cookiesToSet.forEach(({ name, value, options }) =>\r\n              cookieStore.set(name, value, options)\r\n            )\r\n          } catch {\r\n            // The `setAll` method was called from a Server Component.\r\n            // This can be ignored if you have middleware refreshing\r\n            // user sessions.\r\n          }\r\n        },\r\n      },\r\n    }\r\n  )\r\n} "],"names":[],"mappings":";;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAEhC,OAAO,CAAA,GAAA,yKAAA,CAAA,qBAAkB,AAAD,sUAGtB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jpedr/Documents/Programa%C3%A7%C3%A3o/Projeto_micronegocio/Projeto_micronegocio/app/profile/page.tsx"],"sourcesContent":["import { createClient } from '@/utils/supabase/server'\r\nimport { redirect } from 'next/navigation'\r\nimport { FiUser, FiMail, FiCalendar, FiShield } from 'react-icons/fi'\r\n\r\nexport default async function ProfilePage() {\r\n  const supabase = await createClient()\r\n\r\n  // IMPORTANT: Always use getUser() to protect pages and user data\r\n  // Never trust getSession() in Server Components\r\n  const { data: { user }, error } = await supabase.auth.getUser()\r\n\r\n  if (error || !user) {\r\n    // User is not authenticated, redirect to login\r\n    redirect('/login')\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\">\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center h-16\">\r\n            <h1 className=\"text-xl font-semibold text-gray-900\">Profile</h1>\r\n            <a \r\n              href=\"/dashboard\" \r\n              className=\"text-blue-600 hover:text-blue-500 font-medium\"\r\n            >\r\n              Back to Dashboard\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"space-y-6\">\r\n          {/* Profile Header */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                <FiUser className=\"w-8 h-8 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">User Profile</h2>\r\n                <p className=\"text-gray-600\">Your account information</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Profile Information */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Account Details</h3>\r\n            \r\n            <div className=\"space-y-4\">\r\n              {/* Email */}\r\n              <div className=\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg\">\r\n                <FiMail className=\"w-5 h-5 text-gray-400\" />\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-500\">Email Address</p>\r\n                  <p className=\"text-gray-900\">{user.email}</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* User ID */}\r\n              <div className=\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg\">\r\n                <FiShield className=\"w-5 h-5 text-gray-400\" />\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-500\">User ID</p>\r\n                  <p className=\"text-gray-900 font-mono text-sm\">{user.id}</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Email Confirmation Status */}\r\n              <div className=\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg\">\r\n                <FiShield className=\"w-5 h-5 text-gray-400\" />\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-500\">Email Confirmed</p>\r\n                  <p className={`font-medium ${user.email_confirmed_at ? 'text-green-600' : 'text-red-600'}`}>\r\n                    {user.email_confirmed_at ? 'Yes' : 'No'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Created At */}\r\n              {user.created_at && (\r\n                <div className=\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg\">\r\n                  <FiCalendar className=\"w-5 h-5 text-gray-400\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-500\">Member Since</p>\r\n                    <p className=\"text-gray-900\">\r\n                      {new Date(user.created_at).toLocaleDateString('en-US', {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric'\r\n                      })}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Last Sign In */}\r\n              {user.last_sign_in_at && (\r\n                <div className=\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg\">\r\n                  <FiCalendar className=\"w-5 h-5 text-gray-400\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-500\">Last Sign In</p>\r\n                    <p className=\"text-gray-900\">\r\n                      {new Date(user.last_sign_in_at).toLocaleDateString('en-US', {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                        hour: '2-digit',\r\n                        minute: '2-digit'\r\n                      })}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Security Notice */}\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n            <div className=\"flex\">\r\n              <FiShield className=\"w-5 h-5 text-blue-400 mt-0.5\" />\r\n              <div className=\"ml-3\">\r\n                <h3 className=\"text-sm font-medium text-blue-800\">Security Information</h3>\r\n                <p className=\"text-sm text-blue-700 mt-1\">\r\n                  This page is protected using <code className=\"bg-blue-100 px-1 rounded\">supabase.auth.getUser()</code>. \r\n                  The user session is validated with the Supabase Auth server on every request.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  )\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}