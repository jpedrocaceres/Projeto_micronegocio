(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[856],{42:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>c,D:()=>o});var r=a(5155),s=a(2115);let i=()=>localStorage.getItem("theme")||"dark",n=e=>{localStorage.setItem("theme",e),l(e)},l=e=>{let t=document.documentElement;t.classList.remove("light","dark"),t.classList.add(e),t.setAttribute("data-theme",e)},d=(0,s.createContext)(void 0),o=()=>{let e=(0,s.useContext)(d);return void 0===e?{theme:"dark",setTheme:()=>{},toggleTheme:()=>"dark"}:e},c=e=>{let{children:t}=e,[a,l]=(0,s.useState)("dark"),[o,c]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{c(!0),l(i())},[]),(0,s.useEffect)(()=>{if(o){let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(a),e.setAttribute("data-theme",a)}},[a,o]),o)?(0,r.jsx)(d.Provider,{value:{theme:a,setTheme:e=>{n(e),l(e)},toggleTheme:()=>{let e=(()=>{let e="dark"===i()?"light":"dark";return n(e),e})();return l(e),e}},children:t}):(0,r.jsx)("div",{className:"dark",children:t})}},3074:(e,t,a)=>{"use strict";a.d(t,{U:()=>n});var r=a(5155);a(2115);var s=a(351),i=a(42);let n=e=>{let{className:t="",showText:a=!1}=e,{theme:n,toggleTheme:l}=(0,i.D)();return(0,r.jsxs)("button",{onClick:l,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 ".concat(t),"aria-label":"Switch to ".concat("dark"===n?"light":"dark"," mode"),children:["dark"===n?(0,r.jsx)(s.Wh$,{className:"w-4 h-4 sm:w-5 sm:h-5"}):(0,r.jsx)(s.hkc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a&&(0,r.jsx)("span",{className:"ml-2 text-sm",children:"dark"===n?"Light":"Dark"})]})}},5168:(e,t,a)=>{"use strict";a.d(t,{U:()=>s});var r=a(3865);function s(){return(0,r.createBrowserClient)("https://qdgmvcnaobgkhveohlxr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkZ212Y25hb2Jna2h2ZW9obHhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxMDQzNTAsImV4cCI6MjA2OTY4MDM1MH0.9yyXsQogu1fRu6lTKb9NDY5N2c2D9nM3M1Zihm5FmfM")}},5293:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(5155),s=a(2115),i=a(5695),n=a(351),l=a(5168),d=a(42),o=a(3074),c=a(8756);let u=()=>{var e;let t=(0,i.useRouter)(),{theme:a}=(0,d.D)(),[u,m]=(0,s.useState)(""),[x,b]=(0,s.useState)(""),[h,g]=(0,s.useState)([]),[p,v]=(0,s.useState)([]),[y,f]=(0,s.useState)([]),[k,N]=(0,s.useState)(!1),[j,S]=(0,s.useState)(!1),[w,D]=(0,s.useState)(null),[C,T]=(0,s.useState)(null),[A,P]=(0,s.useState)("pt"),[E,_]=(0,s.useState)("date"),F=async()=>{N(!0);let e=(0,l.U)();try{let{data:{user:a}}=await e.auth.getUser();if(!a)return void t.push("/login");let{data:r,error:s}=await e.from("services").select("*").eq("is_active",!0).order("name");s?(console.error("Error fetching services:",s),D(I.errorCreating)):f(r||[])}catch(e){console.error("Error fetching services:",e),D(I.errorCreating)}finally{N(!1)}},I={en:{title:"New Appointment",subtitle:"Schedule your appointment",backToAppointments:"Back to Appointments",selectDate:"Select Date",selectTime:"Select Time",selectService:"Select Service",confirmAppointment:"Confirm Appointment",availableSlots:"Available Slots",noAvailableSlots:"No available slots for this date",selectDifferentDate:"Please select a different date",businessHours:"Business Hours",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday",closed:"Closed",next:"Next",previous:"Previous",confirm:"Confirm",cancel:"Cancel",appointmentDetails:"Appointment Details",date:"Date",time:"Time",service:"Service",duration:"Duration",price:"Price",total:"Total",createAppointment:"Create Appointment",appointmentCreated:"Appointment created successfully!",errorCreating:"Error creating appointment. Please try again.",loading:"Loading...",noServices:"No services available",selectServiceFirst:"Please select a service first",noTimeSelected:"Please select a time",noDateSelected:"Please select a date",appointmentTitle:"Appointment",notes:"Notes (Optional)",location:"Location (Optional)",unavailable:"Unavailable",available:"Available",selectedServices:"Selected Services",totalDuration:"Total Duration"},pt:{title:"Novo Agendamento",subtitle:"Agende sua consulta",backToAppointments:"Voltar aos Agendamentos",selectDate:"Selecionar Data",selectTime:"Selecionar Hor\xe1rio",selectService:"Selecionar Servi\xe7o",confirmAppointment:"Confirmar Agendamento",availableSlots:"Hor\xe1rios Dispon\xedveis",noAvailableSlots:"Nenhum hor\xe1rio dispon\xedvel para esta data",selectDifferentDate:"Por favor selecione uma data diferente",businessHours:"Hor\xe1rio de Funcionamento",monday:"Segunda-feira",tuesday:"Ter\xe7a-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"S\xe1bado",sunday:"Domingo",closed:"Fechado",next:"Pr\xf3ximo",previous:"Anterior",confirm:"Confirmar",cancel:"Cancelar",appointmentDetails:"Detalhes do Agendamento",date:"Data",time:"Hor\xe1rio",service:"Servi\xe7o",duration:"Dura\xe7\xe3o",price:"Pre\xe7o",total:"Total",createAppointment:"Criar Agendamento",appointmentCreated:"Agendamento criado com sucesso!",errorCreating:"Erro ao criar agendamento. Tente novamente.",loading:"Carregando...",noServices:"Nenhum servi\xe7o dispon\xedvel",selectServiceFirst:"Por favor selecione um servi\xe7o primeiro",noTimeSelected:"Por favor selecione um hor\xe1rio",noDateSelected:"Por favor selecione uma data",appointmentTitle:"Agendamento",notes:"Observa\xe7\xf5es (Opcional)",location:"Local (Opcional)",unavailable:"Indispon\xedvel",available:"Dispon\xedvel",selectedServices:"Servi\xe7os Selecionados",totalDuration:"Dura\xe7\xe3o Total"},es:{title:"Nueva Cita",subtitle:"Programa tu cita",backToAppointments:"Volver a las Citas",selectDate:"Seleccionar Fecha",selectTime:"Seleccionar Hora",selectService:"Seleccionar Servicio",confirmAppointment:"Confirmar Cita",availableSlots:"Horarios Disponibles",noAvailableSlots:"No hay horarios disponibles para esta fecha",selectDifferentDate:"Por favor selecciona una fecha diferente",businessHours:"Horario de Atenci\xf3n",monday:"Lunes",tuesday:"Martes",wednesday:"Mi\xe9rcoles",thursday:"Jueves",friday:"Viernes",saturday:"S\xe1bado",sunday:"Domingo",closed:"Cerrado",next:"Siguiente",previous:"Anterior",confirm:"Confirmar",cancel:"Cancelar",appointmentDetails:"Detalles de la Cita",date:"Fecha",time:"Hora",service:"Servicio",duration:"Duraci\xf3n",price:"Precio",total:"Total",createAppointment:"Crear Cita",appointmentCreated:"\xa1Cita creada exitosamente!",errorCreating:"Error al crear cita. Intenta de nuevo.",loading:"Cargando...",noServices:"No hay servicios disponibles",selectServiceFirst:"Por favor selecciona un servicio primero",noTimeSelected:"Por favor selecciona una hora",noDateSelected:"Por favor selecciona una fecha",appointmentTitle:"Cita",notes:"Notas (Opcional)",location:"Ubicaci\xf3n (Opcional)",unavailable:"No Disponible",available:"Disponible",selectedServices:"Servicios Seleccionados",totalDuration:"Duraci\xf3n Total"},fr:{title:"Nouveau Rendez-vous",subtitle:"Planifiez votre rendez-vous",backToAppointments:"Retour aux Rendez-vous",selectDate:"S\xe9lectionner la Date",selectTime:"S\xe9lectionner l'Heure",selectService:"S\xe9lectionner le Service",confirmAppointment:"Confirmer le Rendez-vous",availableSlots:"Cr\xe9neaux Disponibles",noAvailableSlots:"Aucun cr\xe9neau disponible pour cette date",selectDifferentDate:"Veuillez s\xe9lectionner une date diff\xe9rente",businessHours:"Heures d'Ouverture",monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday:"Dimanche",closed:"Ferm\xe9",next:"Suivant",previous:"Pr\xe9c\xe9dent",confirm:"Confirmer",cancel:"Annuler",appointmentDetails:"D\xe9tails du Rendez-vous",date:"Date",time:"Heure",service:"Service",duration:"Dur\xe9e",price:"Prix",total:"Total",createAppointment:"Cr\xe9er le Rendez-vous",appointmentCreated:"Rendez-vous cr\xe9\xe9 avec succ\xe8s!",errorCreating:"Erreur lors de la cr\xe9ation du rendez-vous. Veuillez r\xe9essayer.",loading:"Chargement...",noServices:"Aucun service disponible",selectServiceFirst:"Veuillez s\xe9lectionner un service d'abord",noTimeSelected:"Veuillez s\xe9lectionner une heure",noDateSelected:"Veuillez s\xe9lectionner une date",appointmentTitle:"Rendez-vous",notes:"Notes (Optionnel)",location:"Lieu (Optionnel)",unavailable:"Indisponible",available:"Disponible",selectedServices:"Services S\xe9lectionn\xe9s",totalDuration:"Dur\xe9e Totale"}}[A],H={monday:{start:"08:00",end:"20:00"},tuesday:{start:"08:00",end:"20:00"},wednesday:{start:"08:00",end:"20:00"},thursday:{start:"08:00",end:"20:00"},friday:{start:"08:00",end:"20:00"},saturday:{start:"08:00",end:"17:00"},sunday:{start:null,end:null}};(0,s.useEffect)(()=>{document.documentElement.lang=A},[A]),(0,s.useEffect)(()=>{F()},[]),(0,s.useEffect)(()=>{u&&L()},[u]);let L=async()=>{if(!u)return;let e=H[({mon:"monday",tue:"tuesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday",sun:"sunday"})[new Date(u).toLocaleDateString("en-US",{weekday:"short"}).toLowerCase()]];if(!e.start||!e.end)return void v([]);let t=(0,l.U)(),{data:{user:a}}=await t.auth.getUser();if(!a)return void v([]);let{data:r}=await t.from("appointment_availability").select("start_time, end_time").eq("appointment_date",u),s=[],i=new Date("2000-01-01T".concat(e.start)),n=new Date("2000-01-01T".concat(e.end));for(;i<n;){let e=i.toTimeString().slice(0,5),t=new Date(i.getTime()+36e5),a=t.toTimeString().slice(0,5),n=!(null==r?void 0:r.some(t=>{let r=t.start_time;return e<t.end_time&&a>r})),l=i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!1}),d=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!1});s.push({time:e,available:n,formatted:"".concat(l," - ").concat(d)}),i.setMinutes(i.getMinutes()+60)}v(s)},z=async()=>{if(!u||!x||0===h.length)return void D(I.errorCreating);S(!0),D(null),T(null);let e=(0,l.U)();try{let{data:{user:a}}=await e.auth.getUser();if(!a)return void t.push("/login");let r=h.reduce((e,t)=>e+t.duration_minutes,0),s=new Date("2000-01-01T".concat(x)),i=new Date(s.getTime()+6e4*r).toTimeString().slice(0,5),n=h.map(e=>e.name).join(", ");h.reduce((e,t)=>e+t.price,0);let{error:l}=await e.from("appointments").insert({user_id:a.id,title:"".concat(I.appointmentTitle," - ").concat(n),description:"Services: ".concat(n),appointment_date:u,start_time:x,end_time:i,status:"scheduled",location:"",notes:"",reminder_sent:!1});l?(console.error("Error creating appointment:",l),D(I.errorCreating)):(T(I.appointmentCreated),setTimeout(()=>{t.push("/appointments")},2e3))}catch(e){console.error("Error creating appointment:",e),D(I.errorCreating)}finally{S(!1)}},O=e=>{let t=new Date(e),a={monday:I.monday,tuesday:I.tuesday,wednesday:I.wednesday,thursday:I.thursday,friday:I.friday,saturday:I.saturday,sunday:I.sunday};return a[({mon:"monday",tue:"tuesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday",sun:"sunday"})[t.toLocaleDateString("en-US",{weekday:"short"}).toLowerCase()]]},M=e=>{let t=new Date(e),a=new Date;if(a.setHours(0,0,0,0),t<a)return!1;let r=H[({mon:"monday",tue:"tuesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday",sun:"sunday"})[t.toLocaleDateString("en-US",{weekday:"short"}).toLowerCase()]];return null!==r.start&&null!==r.end};return k?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:I.loading})]})})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,r.jsx)("header",{className:"w-full mx-auto bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("button",{onClick:()=>t.push("/appointments"),className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors duration-200",children:[(0,r.jsx)(n.irw,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:I.backToAppointments})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:I.title})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("button",{onClick:()=>P("pt"===A?"en":"en"===A?"es":"es"===A?"fr":"pt"),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 text-sm",children:[(0,r.jsx)(n.VeH,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:null==(e=[{code:"pt",name:"Portugu\xeas",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"es",name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"},{code:"fr",name:"Fran\xe7ais",flag:"\uD83C\uDDEB\uD83C\uDDF7"}].find(e=>e.code===A))?void 0:e.flag})]})}),(0,r.jsx)(o.U,{})]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:I.title}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:I.subtitle})]}),w&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:w})}),C&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg",children:(0,r.jsx)("p",{className:"text-green-600 dark:text-green-400 text-sm",children:C})}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:["date"===E&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:I.selectDate}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3",children:(()=>{let e=[],t=new Date;for(let a=0;a<14;a++){let r=new Date(t);r.setDate(t.getDate()+a);let s=r.toISOString().split("T")[0];M(s)&&e.push(s)}return e})().map(e=>(0,r.jsxs)("button",{onClick:()=>{m(e),b(""),_("time")},className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(e).getDate()}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:O(e)})]},e))})]}),"time"===E&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:I.selectTime}),(0,r.jsx)("button",{onClick:()=>_("date"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:I.previous})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,c.x)(u)," - ",O(u)]}),p.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:p.map(e=>(0,r.jsxs)("button",{onClick:()=>e.available&&void(b(e.time),_("service")),disabled:!e.available,className:"p-4 border rounded-lg transition-colors text-center ".concat(e.available?"border-gray-200 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer":"border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 cursor-not-allowed opacity-50"),children:[(0,r.jsx)("div",{className:"text-sm font-medium ".concat(e.available?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500"),children:e.formatted}),(0,r.jsx)("div",{className:"text-xs mt-1 ".concat(e.available?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:e.available?I.available:I.unavailable})]},e.time))}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(n.Ohp,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:I.noAvailableSlots}),(0,r.jsx)("button",{onClick:()=>_("date"),className:"mt-3 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:I.selectDifferentDate})]})]}),"service"===E&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:I.selectService}),(0,r.jsx)("button",{onClick:()=>_("time"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:I.previous})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,c.x)(u)," \xe0s ",x]}),y.length>0?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.map(e=>{let t=h.find(t=>t.id===e.id);return(0,r.jsx)("button",{onClick:()=>(e=>{g(t=>t.find(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])})(e),className:"p-6 border rounded-lg transition-colors text-center ".concat(t?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20"),children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.name}),t&&(0,r.jsx)(n.YrT,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.duration_minutes," min"]}),(0,r.jsxs)("div",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:["R$ ",e.price.toFixed(2)]})]})},e.id)})}),h.length>0&&(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[(0,r.jsxs)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:[I.selectedServices," (",h.length,")"]}),(0,r.jsxs)("div",{className:"space-y-2",children:[h.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,r.jsx)("span",{className:"text-blue-800 dark:text-blue-200",children:e.name}),(0,r.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:["R$ ",e.price.toFixed(2)]})]},e.id)),(0,r.jsx)("div",{className:"border-t border-blue-200 dark:border-blue-600 pt-2 mt-2",children:(0,r.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[(0,r.jsx)("span",{className:"text-blue-900 dark:text-blue-100",children:"Total:"}),(0,r.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:["R$ ",h.reduce((e,t)=>e+t.price,0).toFixed(2)]})]})})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:()=>{h.length>0&&_("confirm")},disabled:0===h.length,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I.next})})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(n.JXP,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:I.noServices})]})]}),"confirm"===E&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:I.confirmAppointment}),(0,r.jsx)("button",{onClick:()=>_("service"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:I.previous})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg p-6",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:I.appointmentDetails}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[I.date,":"]}),(0,r.jsx)("span",{className:"text-gray-900 dark:text-white",children:(0,c.x)(u)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[I.time,":"]}),(0,r.jsx)("span",{className:"text-gray-900 dark:text-white",children:x})]}),(0,r.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.duration_minutes," min"]})]}),(0,r.jsxs)("span",{className:"text-gray-900 dark:text-white",children:["R$ ",e.price.toFixed(2)]})]},e.id))}),(0,r.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[I.total,":"]}),(0,r.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:["R$ ",h.reduce((e,t)=>e+t.price,0).toFixed(2)]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[I.totalDuration,": ",h.reduce((e,t)=>e+t.duration_minutes,0)," min"]})]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:()=>_("service"),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:I.cancel}),(0,r.jsx)("button",{onClick:z,disabled:j,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:j?I.loading:I.createAppointment})]})]})]})]})]})}},7200:(e,t,a)=>{Promise.resolve().then(a.bind(a,5293))},8756:(e,t,a)=>{"use strict";a.d(t,{x:()=>r});let r=e=>{if(!e)return"";let t=new Date(e);if(isNaN(t.getTime()))return"";let a=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear();return"".concat(a,"/").concat(r,"/").concat(s)}}},e=>{e.O(0,[844,242,441,964,358],()=>e(e.s=7200)),_N_E=e.O()}]);