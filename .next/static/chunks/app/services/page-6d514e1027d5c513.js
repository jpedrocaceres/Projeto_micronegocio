(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{42:(e,r,a)=>{"use strict";a.d(r,{ThemeProvider:()=>l,D:()=>n});var t=a(5155),i=a(2115);let s=()=>localStorage.getItem("theme")||"dark",d=e=>{localStorage.setItem("theme",e),o(e)},o=e=>{let r=document.documentElement;r.classList.remove("light","dark"),r.classList.add(e),r.setAttribute("data-theme",e)},c=(0,i.createContext)(void 0),n=()=>{let e=(0,i.useContext)(c);return void 0===e?{theme:"dark",setTheme:()=>{},toggleTheme:()=>"dark"}:e},l=e=>{let{children:r}=e,[a,o]=(0,i.useState)("dark"),[n,l]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{l(!0),o(s())},[]),(0,i.useEffect)(()=>{if(n){let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(a),e.setAttribute("data-theme",a)}},[a,n]),n)?(0,t.jsx)(c.Provider,{value:{theme:a,setTheme:e=>{d(e),o(e)},toggleTheme:()=>{let e=(()=>{let e="dark"===s()?"light":"dark";return d(e),e})();return o(e),e}},children:r}):(0,t.jsx)("div",{className:"dark",children:r})}},3074:(e,r,a)=>{"use strict";a.d(r,{U:()=>d});var t=a(5155);a(2115);var i=a(351),s=a(42);let d=e=>{let{className:r="",showText:a=!1}=e,{theme:d,toggleTheme:o}=(0,s.D)();return(0,t.jsxs)("button",{onClick:o,className:"p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 ".concat(r),"aria-label":"Switch to ".concat("dark"===d?"light":"dark"," mode"),children:["dark"===d?(0,t.jsx)(i.Wh$,{className:"w-4 h-4 sm:w-5 sm:h-5"}):(0,t.jsx)(i.hkc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a&&(0,t.jsx)("span",{className:"ml-2 text-sm",children:"dark"===d?"Light":"Dark"})]})}},5168:(e,r,a)=>{"use strict";a.d(r,{U:()=>i});var t=a(3865);function i(){return(0,t.createBrowserClient)("https://qdgmvcnaobgkhveohlxr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkZ212Y25hb2Jna2h2ZW9obHhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxMDQzNTAsImV4cCI6MjA2OTY4MDM1MH0.9yyXsQogu1fRu6lTKb9NDY5N2c2D9nM3M1Zihm5FmfM")}},6456:(e,r,a)=>{Promise.resolve().then(a.bind(a,9826))},9826:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>l});var t=a(5155),i=a(2115),s=a(5695),d=a(351),o=a(5168),c=a(42),n=a(3074);let l=()=>{var e;let r=(0,s.useRouter)(),{theme:a}=(0,c.D)(),[l,m]=(0,i.useState)([]),[u,g]=(0,i.useState)("user"),[v,x]=(0,i.useState)(!0),[h,b]=(0,i.useState)(!1),[p,y]=(0,i.useState)(!1),[f,k]=(0,i.useState)(null),[N,j]=(0,i.useState)(null),[S,w]=(0,i.useState)(null),[E,D]=(0,i.useState)("pt"),[C,I]=(0,i.useState)(!1),[_,U]=(0,i.useState)({name:"",description:"",price:"",duration_minutes:""}),T={en:{title:"Services",subtitle:"Manage your services",addService:"Add Service",editService:"Edit Service",serviceName:"Service Name",description:"Description",price:"Price",duration:"Duration (minutes)",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",active:"Active",inactive:"Inactive",noServices:"No services found",addFirstService:"Add your first service to get started",serviceCreated:"Service created successfully!",serviceUpdated:"Service updated successfully!",serviceDeleted:"Service deleted successfully!",errorCreating:"Error creating service. Please try again.",errorUpdating:"Error updating service. Please try again.",errorDeleting:"Error deleting service. Please try again.",loading:"Loading...",confirmDelete:"Are you sure you want to delete this service?",deleteWarning:"This action cannot be undone.",yes:"Yes",no:"No",backToDashboard:"Back to Dashboard"},pt:{title:"Servi\xe7os",subtitle:"Gerencie seus servi\xe7os",addService:"Adicionar Servi\xe7o",editService:"Editar Servi\xe7o",serviceName:"Nome do Servi\xe7o",description:"Descri\xe7\xe3o",price:"Pre\xe7o",duration:"Dura\xe7\xe3o (minutos)",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",active:"Ativo",inactive:"Inativo",noServices:"Nenhum servi\xe7o encontrado",addFirstService:"Adicione seu primeiro servi\xe7o para come\xe7ar",serviceCreated:"Servi\xe7o criado com sucesso!",serviceUpdated:"Servi\xe7o atualizado com sucesso!",serviceDeleted:"Servi\xe7o exclu\xeddo com sucesso!",errorCreating:"Erro ao criar servi\xe7o. Tente novamente.",errorUpdating:"Erro ao atualizar servi\xe7o. Tente novamente.",errorDeleting:"Erro ao excluir servi\xe7o. Tente novamente.",loading:"Carregando...",confirmDelete:"Tem certeza que deseja excluir este servi\xe7o?",deleteWarning:"Esta a\xe7\xe3o n\xe3o pode ser desfeita.",yes:"Sim",no:"N\xe3o",backToDashboard:"Voltar ao Dashboard"},es:{title:"Servicios",subtitle:"Gestiona tus servicios",addService:"Agregar Servicio",editService:"Editar Servicio",serviceName:"Nombre del Servicio",description:"Descripci\xf3n",price:"Precio",duration:"Duraci\xf3n (minutos)",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",active:"Activo",inactive:"Inactivo",noServices:"No se encontraron servicios",addFirstService:"Agrega tu primer servicio para comenzar",serviceCreated:"\xa1Servicio creado exitosamente!",serviceUpdated:"\xa1Servicio actualizado exitosamente!",serviceDeleted:"\xa1Servicio eliminado exitosamente!",errorCreating:"Error al crear servicio. Intenta de nuevo.",errorUpdating:"Error al actualizar servicio. Intenta de nuevo.",errorDeleting:"Error al eliminar servicio. Intenta de nuevo.",loading:"Cargando...",confirmDelete:"\xbfEst\xe1s seguro de que quieres eliminar este servicio?",deleteWarning:"Esta acci\xf3n no se puede deshacer.",yes:"S\xed",no:"No",backToDashboard:"Volver al Dashboard"},fr:{title:"Services",subtitle:"G\xe9rez vos services",addService:"Ajouter un Service",editService:"Modifier le Service",serviceName:"Nom du Service",description:"Description",price:"Prix",duration:"Dur\xe9e (minutes)",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",active:"Actif",inactive:"Inactif",noServices:"Aucun service trouv\xe9",addFirstService:"Ajoutez votre premier service pour commencer",serviceCreated:"Service cr\xe9\xe9 avec succ\xe8s!",serviceUpdated:"Service mis \xe0 jour avec succ\xe8s!",serviceDeleted:"Service supprim\xe9 avec succ\xe8s!",errorCreating:"Erreur lors de la cr\xe9ation du service. Veuillez r\xe9essayer.",errorUpdating:"Erreur lors de la mise \xe0 jour du service. Veuillez r\xe9essayer.",errorDeleting:"Erreur lors de la suppression du service. Veuillez r\xe9essayer.",loading:"Chargement...",confirmDelete:"\xcates-vous s\xfbr de vouloir supprimer ce service?",deleteWarning:"Cette action ne peut pas \xeatre annul\xe9e.",yes:"Oui",no:"Non",backToDashboard:"Retour au Dashboard"}}[E];(0,i.useEffect)(()=>{document.documentElement.lang=E},[E]),(0,i.useEffect)(()=>{A()},[]);let A=async()=>{x(!0);let e=(0,o.U)();try{let{data:{user:a}}=await e.auth.getUser();if(!a)return void r.push("/login");let{data:t,error:i}=await e.from("user_profiles").select("role").eq("id",a.id).single();i?console.error("Error fetching user profile:",i):g((null==t?void 0:t.role)||"user");let{data:s,error:d}=await e.from("services").select("*").order("created_at",{ascending:!1});d?(console.error("Error fetching services:",d),j(T.errorCreating)):m(s||[])}catch(e){console.error("Error fetching services:",e),j(T.errorCreating)}finally{x(!1)}},z=async e=>{if(e.preventDefault(),!_.name.trim()||!_.price||!_.duration_minutes)return void j("Please fill in all required fields");b(!0),j(null),w(null);let a=(0,o.U)();try{let e,{data:{user:t}}=await a.auth.getUser();if(!t)return void r.push("/login");let i={name:_.name.trim(),description:_.description.trim(),price:parseFloat(_.price),duration_minutes:parseInt(_.duration_minutes),is_active:!0};(e=p&&f?await a.from("services").update(i).eq("id",f.id):await a.from("services").insert(i)).error?(console.error("Error saving service:",e.error),j(p?T.errorUpdating:T.errorCreating)):(w(p?T.serviceUpdated:T.serviceCreated),I(!1),F(),A())}catch(e){console.error("Error saving service:",e),j(p?T.errorUpdating:T.errorCreating)}finally{b(!1)}},P=async e=>{if(!confirm(T.confirmDelete))return;b(!0),j(null),w(null);let r=(0,o.U)();try{let{error:a}=await r.from("services").delete().eq("id",e);a?(console.error("Error deleting service:",a),j(T.errorDeleting)):(w(T.serviceDeleted),A())}catch(e){console.error("Error deleting service:",e),j(T.errorDeleting)}finally{b(!1)}},q=async e=>{let r=(0,o.U)();try{let{error:a}=await r.from("services").update({is_active:!e.is_active}).eq("id",e.id);a?(console.error("Error updating service:",a),j(T.errorUpdating)):A()}catch(e){console.error("Error updating service:",e),j(T.errorUpdating)}},F=()=>{U({name:"",description:"",price:"",duration_minutes:""}),y(!1),k(null)};return v?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:T.loading})]})})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,t.jsx)("header",{className:"w-full mx-auto bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,t.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:()=>r.push("/dashboard"),className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors duration-200",children:[(0,t.jsx)(d.yGN,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:T.backToDashboard})]}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:T.title})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("button",{onClick:()=>D("pt"===E?"en":"en"===E?"es":"es"===E?"fr":"pt"),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 text-sm",children:[(0,t.jsx)(d.VeH,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:null==(e=[{code:"pt",name:"Portugu\xeas",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"es",name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"},{code:"fr",name:"Fran\xe7ais",flag:"\uD83C\uDDEB\uD83C\uDDF7"}].find(e=>e.code===E))?void 0:e.flag})]})}),(0,t.jsx)(n.U,{})]})]})})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:T.title}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:T.subtitle})]}),N&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:N})}),S&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg",children:(0,t.jsx)("p",{className:"text-green-600 dark:text-green-400 text-sm",children:S})}),!C&&"admin"===u&&(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("button",{onClick:()=>I(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,t.jsx)(d.GGD,{className:"w-4 h-4 mr-2"}),T.addService]})}),C&&(0,t.jsxs)("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:p?T.editService:T.addService}),(0,t.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[T.serviceName," *"]}),(0,t.jsx)("input",{type:"text",value:_.name,onChange:e=>U({..._,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Ex: Corte, Barba, Sobrancelha",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:T.description}),(0,t.jsx)("textarea",{value:_.description,onChange:e=>U({..._,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Descri\xe7\xe3o detalhada do servi\xe7o"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[T.price," *"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-2 text-gray-500",children:"R$"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:_.price,onChange:e=>U({..._,price:e.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[T.duration," *"]}),(0,t.jsx)("input",{type:"number",min:"1",value:_.duration_minutes,onChange:e=>U({..._,duration_minutes:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"30",required:!0})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:h?T.loading:T.save}),(0,t.jsx)("button",{type:"button",onClick:()=>{I(!1),F()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:T.cancel})]})]})]}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:l.length>0?(0,t.jsxs)("div",{className:"overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[T.title," (",l.length,")"]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map(e=>(0,t.jsx)("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.name}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.is_active?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"),children:e.is_active?T.active:T.inactive})]}),e.description&&(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500 dark:text-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(d.z8N,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["R$ ",e.price.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(d.Ohp,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[e.duration_minutes," min"]})]})]})]}),"admin"===u&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>(e=>{k(e),U({name:e.name,description:e.description,price:e.price.toString(),duration_minutes:e.duration_minutes.toString()}),y(!0),I(!0)})(e),className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:T.edit,children:(0,t.jsx)(d.Pj4,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>q(e),className:"p-2 transition-colors ".concat(e.is_active?"text-green-400 hover:text-red-600 dark:hover:text-red-400":"text-gray-400 hover:text-green-600 dark:hover:text-green-400"),title:e.is_active?T.inactive:T.active,children:(0,t.jsx)(d.YrT,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>P(e.id),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:T.delete,children:(0,t.jsx)(d.IXo,{className:"w-4 h-4"})})]})]})},e.id))})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.jH2,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:T.noServices}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"admin"===u?T.addFirstService:"Nenhum servi\xe7o dispon\xedvel no momento."}),"admin"===u&&(0,t.jsxs)("button",{onClick:()=>I(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,t.jsx)(d.GGD,{className:"w-4 h-4 mr-2"}),T.addService]})]})})]})]})}}},e=>{e.O(0,[844,242,441,964,358],()=>e(e.s=6456)),_N_E=e.O()}]);